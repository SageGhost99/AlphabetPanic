<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alphabet Panic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #450a0a, #7f1d1d);
            min-height: 100vh;
        }
        .title-letter {
            display: inline-block;
            font-family: 'Arial Black', sans-serif;
            font-weight: 900;
        }
        .title-letter:nth-child(odd) {
            transform: rotate(-8deg);
        }
        .title-letter:nth-child(even) {
            transform: rotate(8deg);
        }
        .letter-btn {
            transition: all 0.2s;
        }
        .letter-btn:hover:not(:disabled) {
            transform: scale(1.1);
        }
        .letter-btn:active:not(:disabled) {
            transform: scale(0.95);
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
            20%, 40%, 60%, 80% { transform: translateX(2px); }
        }
        .shake {
            animation: shake 0.5s infinite;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">
    <div id="app" class="w-full max-w-6xl"></div>

    <script>
        // Game state
        let state = {
            screen: 'start',
            categories: [],
            selectedCategory: '',
            clickedLetters: new Set(),
            timeRemaining: 60,
            timerInterval: null,
            gameStartTime: null,
            gameEndTime: null
        };

        // 100+ categories
        const allCategories = [
            "Animals", "Foods", "Fruits", "Vegetables", "Snacks", "Drinks", "Desserts",
            "Things in a Kitchen", "Things You Wear", "Things in a Backpack", "Things in a Car", 
            "Things You Plug In", "Things That Are Cold", "Things That Are Loud", "Things You Sit On", 
            "Things That Smell Good", "Christmas Things", "Christmas Movies", "Halloween Costumes", 
            "Halloween Characters", "Holiday Foods", "Holiday Decorations", "Disney Princesses", 
            "Disney Villains", "Disney Movie Titles", "Disney Sidekick Characters", "Disney Characters",
            "Talking Animals (any movie or show)", "The Office Quotes", "SpongeBob Phrases", 
            "Shrek Quotes", "Toy Story Quotes", "Movie Titles", "Animated Movie Titles", 
            "Movie Quotes", "TV Show Titles", "Sitcom Quotes", "Song Titles", "One-Word Song Titles",
            "Songs with a Color in the Title", "Songs with a Name in the Title", 
            "Songs People Sing at Parties", "Band Names", "Music Genres",
            "Soda Brands", "Car Brands", "Fast Food Restaurants", "Snack Brands", 
            "Clothing Brands", "Shoe Brands", "Toy Brands", "Video Game Titles", 
            "Video Game Characters", "Board Games", "Cities", "Countries", "Vacation Destinations",
            "Restaurants or Food Places", "Tools", "Colors", "Furniture", "Household Items",
            "Things That Are Annoying", "Things People Argue About", "Things That Ruin a Good Day",
            "Things People Complain About", "Names", "Words", "Phrases", "Catchphrases",
            "Things You See Every Day", "Things You Use Daily", "Things You'd Bring on a Trip",
            "Literally Anything", "Types of Vehicles", "Sports", "Musical Instruments",
            "Body Parts", "Plants/Flowers", "Occupations", "School Supplies", "Weather Phenomena",
            "Emotions", "Beverages", "TV Shows", "Books", "Celebrities", "Historical Figures",
            "Superheroes", "Apps", "Brands", "US States", "Spices", "Pizza Toppings",
            "Ice Cream Flavors", "Breakfast Foods", "Candy/Chocolate", "Things in a Bathroom",
            "Things in a Bedroom", "Things in a Garage", "Things at a Beach", "Things at a Park",
            "Things in Space", "Things Underground", "Birds", "Fish", "Insects", "Reptiles",
            "Mammals", "Dog Breeds", "Cat Breeds", "Types of Trees", "Flowers", "Herbs",
            "Things That Are Red", "Things That Are Blue", "Things That Fly", "Things That Swim",
            "Things That Are Hot", "Things That Are Soft", "Things That Are Hard", "Things That Stink",
            "School Subjects", "College Majors", "Languages", "Hobbies", "Dance Styles",
            "Cartoon Characters", "Things at a Wedding", "Things at a Birthday Party",
            "Holiday Traditions", "Christmas Songs", "Types of Shoes", "Types of Hats",
            "Accessories", "Hairstyles", "Makeup Items", "Office Supplies", "Electronics",
            "Household Appliances", "Types of Stores", "Restaurant Types", "Cooking Methods",
            "Kitchen Utensils", "Cleaning Supplies", "Things Made of Wood", "Things Made of Metal",
            "Things Made of Plastic", "Things with Wheels", "Things with Buttons"
        ];

        // Initialize app
        function init() {
            state.categories = shuffleArray([...allCategories]).slice(0, 3);
            render();
        }

        // Shuffle array
        function shuffleArray(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        // Start game
        function startGame(category) {
            state.selectedCategory = category;
            state.screen = 'game';
            state.clickedLetters = new Set();
            state.timeRemaining = 60;
            state.gameStartTime = Date.now();
            state.gameEndTime = null;
            
            render();
            
            // Start timer (updates every 100ms)
            state.timerInterval = setInterval(() => {
                state.timeRemaining -= 0.1;
                
                if (state.timeRemaining <= 0) {
                    state.timeRemaining = 0;
                    endGame(false);
                    return;
                }
                
                updateTimer();
            }, 100);
        }

        // Click letter
        function clickLetter(letter) {
            if (state.clickedLetters.has(letter) || state.screen !== 'game') return;
            
            state.clickedLetters.add(letter);
            state.timeRemaining += 3;
            
            // Update button
            const btn = document.querySelector(`[data-letter="${letter}"]`);
            if (btn) {
                btn.className = 'letter-btn bg-black text-white font-bold text-2xl py-4 px-6 rounded-lg cursor-not-allowed';
                btn.disabled = true;
            }
            
            // Update counter
            updateCounter();
            
            // Check win condition
            if (state.clickedLetters.size === 26) {
                endGame(true);
            }
        }

        // Update timer display
        function updateTimer() {
            const timerEl = document.getElementById('timer');
            if (!timerEl) return;
            
            const seconds = Math.ceil(state.timeRemaining);
            timerEl.textContent = seconds;
            
            // Color coding
            if (seconds > 20) {
                timerEl.className = 'text-8xl font-black text-green-500';
            } else if (seconds > 10) {
                timerEl.className = 'text-8xl font-black text-yellow-500';
            } else {
                timerEl.className = 'text-8xl font-black text-red-500';
            }
            
            // Add shake effect to main container when <= 10 seconds
            const mainContainer = document.getElementById('main-container');
            if (mainContainer) {
                if (seconds <= 10) {
                    mainContainer.classList.add('shake');
                } else {
                    mainContainer.classList.remove('shake');
                }
            }
        }

        // Update counter
        function updateCounter() {
            const counterEl = document.getElementById('counter');
            if (counterEl) {
                counterEl.textContent = `${state.clickedLetters.size}/26`;
            }
        }

        // End game
        function endGame(won) {
            clearInterval(state.timerInterval);
            state.gameEndTime = Date.now();
            state.screen = 'end';
            state.won = won;
            render();
        }

        // Play again
        function playAgain() {
            state.categories = shuffleArray([...allCategories]).slice(0, 3);
            state.screen = 'start';
            state.clickedLetters = new Set();
            render();
        }

        // Render
        function render() {
            const app = document.getElementById('app');
            
            if (state.screen === 'start') {
                app.innerHTML = `
                    <div class="bg-amber-50 rounded-3xl shadow-2xl p-8">
                        <div class="text-center mb-8">
                            <h1 class="text-5xl text-red-900">
                                ${createTitle('ALPHABET PANIC')}
                            </h1>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl text-red-900 mb-8 font-bold">Choose a Category:</p>
                            <div class="space-y-4">
                                ${state.categories.map(cat => `
                                    <button onclick="startGame('${cat}')" 
                                            class="w-full bg-red-900 hover:bg-red-800 text-amber-50 font-bold text-2xl py-6 px-8 rounded-xl transition transform hover:scale-105">
                                        ${cat}
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            } else if (state.screen === 'game') {
                app.innerHTML = `
                    <div id="main-container" class="bg-amber-50 rounded-3xl shadow-2xl p-8">
                        <div class="flex justify-end mb-2">
                            <button onclick="playAgain()" 
                                    class="bg-red-800 hover:bg-red-700 text-amber-50 font-bold text-lg py-3 px-6 rounded-lg transition transform hover:scale-105">
                                Start Over
                            </button>
                        </div>
                        
                        <div class="text-center mb-6">
                            <h1 class="text-4xl text-red-900 mb-6">
                                ${createTitle('ALPHABET PANIC')}
                            </h1>
                            <h2 class="text-6xl font-black text-red-900 mb-3 tracking-wide">${state.selectedCategory}</h2>
                            <p class="text-lg text-red-800">Shout words for each letter!</p>
                        </div>
                        
                        <div class="flex flex-col lg:flex-row gap-8 items-start">
                            <div class="flex-1">
                                <div id="game-board" class="grid grid-cols-7 gap-2">
                                    ${generateAlphabet()}
                                </div>
                            </div>
                            
                            <div class="lg:w-64 flex flex-col gap-6">
                                <div class="bg-red-900 rounded-2xl p-6 text-center">
                                    <p class="text-amber-50 text-xl font-bold mb-2">TIME</p>
                                    <div id="timer" class="text-8xl font-black text-green-500">${Math.ceil(state.timeRemaining)}</div>
                                </div>
                                
                                <div class="bg-red-900 rounded-2xl p-6 text-center">
                                    <p class="text-amber-50 text-xl font-bold mb-2">LETTERS</p>
                                    <div id="counter" class="text-6xl font-black text-amber-50">${state.clickedLetters.size}/26</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (state.screen === 'end') {
                const duration = ((state.gameEndTime - state.gameStartTime) / 1000).toFixed(1);
                const missingLetters = getMissingLetters();
                
                app.innerHTML = `
                    <div class="bg-amber-50 rounded-3xl shadow-2xl p-8">
                        <div class="flex flex-col lg:flex-row gap-8 items-start">
                            <div class="flex-1 text-center">
                                <div class="mb-6">
                                    <h1 class="text-4xl text-red-900">
                                        ${createTitle('ALPHABET PANIC')}
                                    </h1>
                                </div>
                                
                                <h2 class="text-5xl mb-8 font-black ${state.won ? 'text-green-600' : 'text-red-600'}">
                                    ${state.won ? 'YOU WIN! üéâ' : 'TIME\'S UP! ‚è∞'}
                                </h2>
                                
                                <button onclick="playAgain()" 
                                        class="bg-red-900 hover:bg-red-800 text-amber-50 font-bold text-3xl py-6 px-12 rounded-xl transition transform hover:scale-105">
                                    Play Again
                                </button>
                            </div>
                            
                            <div class="lg:w-80">
                                <div class="bg-red-900 text-amber-50 rounded-2xl p-8">
                                    <h3 class="text-3xl font-bold mb-4">Game Stats</h3>
                                    <div class="space-y-3 text-lg">
                                        <p><span class="font-bold">Category:</span> ${state.selectedCategory}</p>
                                        <p><span class="font-bold">Letters Completed:</span> ${state.clickedLetters.size}/26</p>
                                        <p><span class="font-bold">Time Remaining:</span> ${Math.ceil(state.timeRemaining)}s</p>
                                        <p><span class="font-bold">Total Duration:</span> ${duration}s</p>
                                        ${!state.won ? `<p><span class="font-bold">Missing Letters:</span> ${missingLetters}</p>` : ''}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Create title with rotating letters
        function createTitle(text) {
            return text.split('').map(char => 
                char === ' ' ? ' ' : `<span class="title-letter">${char}</span>`
            ).join('');
        }

        // Generate alphabet buttons
        function generateAlphabet() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            return letters.map(letter => {
                const isClicked = state.clickedLetters.has(letter);
                const btnClass = isClicked 
                    ? 'letter-btn bg-black text-white font-bold text-2xl py-4 px-6 rounded-lg cursor-not-allowed'
                    : 'letter-btn bg-red-900 hover:bg-red-800 text-amber-50 font-bold text-2xl py-4 px-6 rounded-lg cursor-pointer';
                
                return `<button 
                    data-letter="${letter}"
                    onclick="clickLetter('${letter}')" 
                    class="${btnClass}"
                    ${isClicked ? 'disabled' : ''}>
                    ${letter}
                </button>`;
            }).join('');
        }

        // Get missing letters
        function getMissingLetters() {
            const allLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            const missing = allLetters.filter(l => !state.clickedLetters.has(l));
            return missing.join(', ');
        }

        // Initialize on load
        init();
    </script>
</body>
</html>